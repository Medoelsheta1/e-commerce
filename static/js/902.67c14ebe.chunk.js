"use strict";(self.webpackChunke_commerce4_frontend=self.webpackChunke_commerce4_frontend||[]).push([[902],{679:(e,a,s)=>{s.d(a,{Z:()=>n});s(2791);var t=s(184);const n=e=>(0,t.jsxs)("div",{className:"form-content mb-4 rounded",children:[(0,t.jsx)("h1",{className:"text-white ",children:e.header}),e.children]})},709:(e,a,s)=>{s.d(a,{Z:()=>n});var t=s(2791);const n=e=>{const[a,s]=(0,t.useState)(""),[n,l]=(0,t.useState)(!1);return{value:a,isTouched:n,isValid:e(a),reset:()=>{s(""),l(!1)},inputHandler:e=>{l(!0),s(e.target.value)},inputBlurHandler:()=>{l(!0)}}}},9385:(e,a,s)=>{s.d(a,{Z:()=>n});s(2791);var t=s(184);const n=e=>(0,t.jsxs)("div",{className:"input",children:[(0,t.jsx)("label",{className:"me-2 fs-5 mb-1",htmlFor:e.name,children:e.label}),(0,t.jsx)("input",{className:"p-3 rounded w-100 ".concat(e.isValueTouched&&!e.isValueValid&&"bg-danger"),type:e.type,name:e.name,id:e.name,onBlur:e.blurFunction,onChange:e.handleFunction,value:e.value}),e.isValueTouched&&!e.isValueValid&&(0,t.jsx)("p",{className:"text-danger mt-1",children:e.message})]})},9902:(e,a,s)=>{s.r(a),s.d(a,{default:()=>b});var t=s(2791),n=s(679),l=s(7689),i=s(1087),r=s(709),d=s(5294),u=s(4420),c=s(8067),m=s(9085),o=s(8919),p=s(9385),h=s(184);const g=()=>{const e=(0,l.s0)(),a=(0,u.I0)(),[s,g]=(0,t.useState)(!1),[b,x]=(0,t.useState)(""),[j,v]=(0,t.useState)(!1),{value:w,isValid:V,isTouched:f,inputHandler:N,blurInputHandler:F}=(0,r.Z)((e=>""!==e.trim())),{value:y,isValid:Z,isTouched:T,inputHandler:H,blurInputHandler:k}=(0,r.Z)((e=>""!==e.trim())),{value:U,isValid:S,isTouched:C,inputHandler:I,blurInputHandler:L}=(0,r.Z)((e=>e.includes("@"))),{value:O,isTouched:_,isValid:A,inputHandler:B,inputBlurHandler:Y}=(0,r.Z)((e=>""!==e.trim()));let P=!1;S&&V&&A&&Z&&(P=!0);return(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(n.Z,{header:"Signup",children:(0,h.jsxs)("form",{className:"w-100 p-4 text-white",onSubmit:async s=>{if(s.preventDefault(),g(!0),!P)return void g(!1);const t=new FormData;t.append("firstName",w),t.append("lastName",y),t.append("password",O),t.append("email",U),t.append("avatar",b);try{const s=await d.Z.post("https://e-commerce-hh3m.onrender.com/api/signUp",t);console.log(s),await a((0,c.uX)(s.data.data.newUser.token)),await a((0,c.R5)({email:s.data.data.newUser.email,id:s.data.data.newUser._id,role:s.data.data.newUser.role})),g(!1),m.Am.success("Sign up successfully"),e("/")}catch(n){v(!0),g(!1)}},children:[(0,h.jsx)(p.Z,{name:"fname",label:"First Name",type:"text",message:"Your first name can't be empty",value:w,isValueTouched:f,isValueValid:V,handleFunction:N,blurFunction:F}),(0,h.jsx)(p.Z,{name:"lname",label:"Last Name",type:"text",message:"Your last name can't be empty",value:y,isValueTouched:T,isValueValid:Z,handleFunction:H,blurFunction:k}),(0,h.jsx)(p.Z,{name:"mail",label:"Email",type:"text",message:"Your Email must be valid",value:U,isValueTouched:C,isValueValid:S,handleFunction:I,blurFunction:L}),(0,h.jsx)(p.Z,{name:"pass",label:"Password",type:"password",message:"Your pass Can't be empty",value:O,isValueTouched:_,isValueValid:A,handleFunction:B,blurFunction:Y}),j&&(0,h.jsx)("p",{className:"text-danger",children:"somthing went wrong please try again"}),(0,h.jsxs)("div",{className:"productCustomizeImage d-flex flex-column justify-content-center w-100 mt-4 align-items-center",children:[b?(0,h.jsx)("img",{src:URL.createObjectURL(b),alt:"img1"}):(0,h.jsx)("img",{src:"https://pbs.twimg.com/media/FtsxswzaUAAZXJj?format=jpg&name=small",alt:"img1"}),(0,h.jsx)("label",{className:"btn  btn-danger mt-4",htmlFor:"image-upload1",children:"Add Profile Image"})]}),(0,h.jsx)("input",{className:"d-none",type:"file",onChange:e=>{x(e.target.files[0])},id:"image-upload1",accept:"image/jpeg, image/png, image/jpg"}),(0,h.jsxs)("div",{className:"buttons",children:[(0,h.jsx)("button",{className:"btn btn-lg btn-primary d-block w-100 mt-3",children:"SignUp"}),(0,h.jsx)(i.rU,{to:"/login",className:"text-white",children:(0,h.jsx)("button",{className:"btn btn-lg btn-dark d-block w-100 mt-3",children:"Login"})})]})]})}),(0,h.jsx)(m.Ix,{position:"top-left",autoClose:1e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0,theme:"dark"}),s&&(0,h.jsx)(o.Z,{})]})},b=()=>(0,h.jsx)("div",{className:"signup",children:(0,h.jsx)(g,{})})}}]);
//# sourceMappingURL=902.67c14ebe.chunk.js.map